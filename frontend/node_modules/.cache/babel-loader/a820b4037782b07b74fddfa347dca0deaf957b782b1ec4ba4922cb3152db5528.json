{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"children\", \"action\", \"showAction\", \"hideAction\", \"popupVisible\", \"defaultPopupVisible\", \"onPopupVisibleChange\", \"afterPopupVisibleChange\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"focusDelay\", \"blurDelay\", \"mask\", \"maskClosable\", \"getPopupContainer\", \"forceRender\", \"autoDestroy\", \"destroyPopupOnHide\", \"popup\", \"popupClassName\", \"popupStyle\", \"popupPlacement\", \"builtinPlacements\", \"popupAlign\", \"zIndex\", \"stretch\", \"getPopupClassNameFromAlign\", \"alignPoint\", \"onPopupClick\", \"onPopupAlign\", \"arrow\", \"popupMotion\", \"maskMotion\", \"popupTransitionName\", \"popupAnimation\", \"maskTransitionName\", \"maskAnimation\", \"className\", \"getTriggerDOMNode\"];\nimport Portal from '@rc-component/portal';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport { isDOM } from \"rc-util/es/Dom/findDOMNode\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport useId from \"rc-util/es/hooks/useId\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport TriggerContext from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useWatch from \"./hooks/useWatch\";\nimport Popup from \"./Popup\";\nimport TriggerWrapper from \"./TriggerWrapper\";\nimport { getAlignPopupClassName, getMotion, getWin } from \"./util\";\nexport function generateTrigger() {\n  var PortalComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Portal;\n  var Trigger = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-trigger-popup' : _props$prefixCls,\n      children = props.children,\n      _props$action = props.action,\n      action = _props$action === void 0 ? 'hover' : _props$action,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      popupVisible = props.popupVisible,\n      defaultPopupVisible = props.defaultPopupVisible,\n      onPopupVisibleChange = props.onPopupVisibleChange,\n      afterPopupVisibleChange = props.afterPopupVisibleChange,\n      mouseEnterDelay = props.mouseEnterDelay,\n      _props$mouseLeaveDela = props.mouseLeaveDelay,\n      mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n      focusDelay = props.focusDelay,\n      blurDelay = props.blurDelay,\n      mask = props.mask,\n      _props$maskClosable = props.maskClosable,\n      maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n      getPopupContainer = props.getPopupContainer,\n      forceRender = props.forceRender,\n      autoDestroy = props.autoDestroy,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      popup = props.popup,\n      popupClassName = props.popupClassName,\n      popupStyle = props.popupStyle,\n      popupPlacement = props.popupPlacement,\n      _props$builtinPlaceme = props.builtinPlacements,\n      builtinPlacements = _props$builtinPlaceme === void 0 ? {} : _props$builtinPlaceme,\n      popupAlign = props.popupAlign,\n      zIndex = props.zIndex,\n      stretch = props.stretch,\n      getPopupClassNameFromAlign = props.getPopupClassNameFromAlign,\n      alignPoint = props.alignPoint,\n      onPopupClick = props.onPopupClick,\n      onPopupAlign = props.onPopupAlign,\n      arrow = props.arrow,\n      popupMotion = props.popupMotion,\n      maskMotion = props.maskMotion,\n      popupTransitionName = props.popupTransitionName,\n      popupAnimation = props.popupAnimation,\n      maskTransitionName = props.maskTransitionName,\n      maskAnimation = props.maskAnimation,\n      className = props.className,\n      getTriggerDOMNode = props.getTriggerDOMNode,\n      restProps = _objectWithoutProperties(props, _excluded);\n    var mergedAutoDestroy = autoDestroy || destroyPopupOnHide || false;\n\n    // =========================== Mobile ===========================\n    var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mobile = _React$useState2[0],\n      setMobile = _React$useState2[1];\n    useLayoutEffect(function () {\n      setMobile(isMobile());\n    }, []);\n\n    // ========================== Context ===========================\n    var subPopupElements = React.useRef({});\n    var parentContext = React.useContext(TriggerContext);\n    var context = React.useMemo(function () {\n      return {\n        registerSubPopup: function registerSubPopup(id, subPopupEle) {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]);\n\n    // =========================== Popup ============================\n    var id = useId();\n    var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      popupEle = _React$useState4[0],\n      setPopupEle = _React$useState4[1];\n    var setPopupRef = useEvent(function (node) {\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n      parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, node);\n    });\n\n    // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n    var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      targetEle = _React$useState6[0],\n      setTargetEle = _React$useState6[1];\n    var setTargetRef = useEvent(function (node) {\n      if (isDOM(node) && targetEle !== node) {\n        setTargetEle(node);\n      }\n    });\n\n    // ========================== Children ==========================\n    var child = React.Children.only(children);\n    var originChildProps = (child === null || child === void 0 ? void 0 : child.props) || {};\n    var cloneProps = {};\n    var inPopupOrChild = useEvent(function (ele) {\n      var _childDOM$getRootNode, _popupEle$getRootNode;\n      var childDOM = targetEle;\n      return (childDOM === null || childDOM === void 0 ? void 0 : childDOM.contains(ele)) || (childDOM === null || childDOM === void 0 ? void 0 : (_childDOM$getRootNode = childDOM.getRootNode()) === null || _childDOM$getRootNode === void 0 ? void 0 : _childDOM$getRootNode.host) === ele || ele === childDOM || (popupEle === null || popupEle === void 0 ? void 0 : popupEle.contains(ele)) || (popupEle === null || popupEle === void 0 ? void 0 : (_popupEle$getRootNode = popupEle.getRootNode()) === null || _popupEle$getRootNode === void 0 ? void 0 : _popupEle$getRootNode.host) === ele || ele === popupEle || Object.values(subPopupElements.current).some(function (subPopupEle) {\n        return (subPopupEle === null || subPopupEle === void 0 ? void 0 : subPopupEle.contains(ele)) || ele === subPopupEle;\n      });\n    });\n\n    // =========================== Motion ===========================\n    var mergePopupMotion = getMotion(prefixCls, popupMotion, popupAnimation, popupTransitionName);\n    var mergeMaskMotion = getMotion(prefixCls, maskMotion, maskAnimation, maskTransitionName);\n\n    // ============================ Open ============================\n    var _React$useState7 = React.useState(defaultPopupVisible || false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      internalOpen = _React$useState8[0],\n      setInternalOpen = _React$useState8[1];\n\n    // Render still use props as first priority\n    var mergedOpen = popupVisible !== null && popupVisible !== void 0 ? popupVisible : internalOpen;\n\n    // We use effect sync here in case `popupVisible` back to `undefined`\n    var setMergedOpen = useEvent(function (nextOpen) {\n      if (popupVisible === undefined) {\n        setInternalOpen(nextOpen);\n      }\n    });\n    useLayoutEffect(function () {\n      setInternalOpen(popupVisible || false);\n    }, [popupVisible]);\n    var openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    var internalTriggerOpen = useEvent(function (nextOpen) {\n      if (mergedOpen !== nextOpen) {\n        setMergedOpen(nextOpen);\n        onPopupVisibleChange === null || onPopupVisibleChange === void 0 ? void 0 : onPopupVisibleChange(nextOpen);\n      }\n    });\n\n    // Trigger for delay\n    var delayRef = React.useRef();\n    var clearDelay = function clearDelay() {\n      clearTimeout(delayRef.current);\n    };\n    var triggerOpen = function triggerOpen(nextOpen) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      clearDelay();\n      if (delay === 0) {\n        internalTriggerOpen(nextOpen);\n      } else {\n        delayRef.current = setTimeout(function () {\n          internalTriggerOpen(nextOpen);\n        }, delay * 1000);\n      }\n    };\n    React.useEffect(function () {\n      return clearDelay;\n    }, []);\n\n    // ========================== Motion ============================\n    var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      inMotion = _React$useState10[0],\n      setInMotion = _React$useState10[1];\n    var mountRef = React.useRef(true);\n    useLayoutEffect(function () {\n      if (!mountRef.current || mergedOpen) {\n        setInMotion(true);\n      }\n      mountRef.current = true;\n    }, [mergedOpen]);\n    var _React$useState11 = React.useState(null),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      motionPrepareResolve = _React$useState12[0],\n      setMotionPrepareResolve = _React$useState12[1];\n\n    // =========================== Align ============================\n    var _React$useState13 = React.useState([0, 0]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      mousePos = _React$useState14[0],\n      setMousePos = _React$useState14[1];\n    var setMousePosByEvent = function setMousePosByEvent(event) {\n      setMousePos([event.clientX, event.clientY]);\n    };\n    var _useAlign = useAlign(mergedOpen, popupEle, alignPoint ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign),\n      _useAlign2 = _slicedToArray(_useAlign, 9),\n      ready = _useAlign2[0],\n      offsetX = _useAlign2[1],\n      offsetY = _useAlign2[2],\n      arrowX = _useAlign2[3],\n      arrowY = _useAlign2[4],\n      scaleX = _useAlign2[5],\n      scaleY = _useAlign2[6],\n      alignInfo = _useAlign2[7],\n      onAlign = _useAlign2[8];\n    var triggerAlign = useEvent(function () {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign);\n    useLayoutEffect(function () {\n      triggerAlign();\n    }, [mousePos]);\n\n    // When no builtinPlacements and popupAlign changed\n    useLayoutEffect(function () {\n      if (mergedOpen && !(builtinPlacements !== null && builtinPlacements !== void 0 && builtinPlacements[popupPlacement])) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    var alignedClassName = React.useMemo(function () {\n      var baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return classNames(baseClassName, getPopupClassNameFromAlign === null || getPopupClassNameFromAlign === void 0 ? void 0 : getPopupClassNameFromAlign(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n    React.useImperativeHandle(ref, function () {\n      return {\n        forceAlign: triggerAlign\n      };\n    });\n\n    // ========================== Motion ============================\n    var onVisibleChanged = function onVisibleChanged(visible) {\n      setInMotion(false);\n      onAlign();\n      afterPopupVisibleChange === null || afterPopupVisibleChange === void 0 ? void 0 : afterPopupVisibleChange(visible);\n    };\n\n    // We will trigger align when motion is in prepare\n    var onPrepare = function onPrepare() {\n      return new Promise(function (resolve) {\n        setMotionPrepareResolve(function () {\n          return resolve;\n        });\n      });\n    };\n    useLayoutEffect(function () {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]);\n\n    // ========================== Stretch ===========================\n    var _React$useState15 = React.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      targetWidth = _React$useState16[0],\n      setTargetWidth = _React$useState16[1];\n    var _React$useState17 = React.useState(0),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      targetHeight = _React$useState18[0],\n      setTargetHeight = _React$useState18[1];\n    var onTargetResize = function onTargetResize(_, ele) {\n      triggerAlign();\n      if (stretch) {\n        var rect = ele.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    };\n\n    // =========================== Action ===========================\n    var _useAction = useAction(mobile, action, showAction, hideAction),\n      _useAction2 = _slicedToArray(_useAction, 2),\n      showActions = _useAction2[0],\n      hideActions = _useAction2[1];\n\n    // Util wrapper for trigger action\n    var wrapperAction = function wrapperAction(eventName, nextOpen, delay, preEvent) {\n      cloneProps[eventName] = function (event) {\n        var _originChildProps$eve;\n        preEvent === null || preEvent === void 0 ? void 0 : preEvent(event);\n        triggerOpen(nextOpen, delay);\n\n        // Pass to origin\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        (_originChildProps$eve = originChildProps[eventName]) === null || _originChildProps$eve === void 0 ? void 0 : _originChildProps$eve.call.apply(_originChildProps$eve, [originChildProps, event].concat(args));\n      };\n    };\n\n    // ======================= Action: Click ========================\n    var clickToShow = showActions.has('click');\n    var clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = function (event) {\n        var _originChildProps$onC;\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        (_originChildProps$onC = originChildProps.onClick) === null || _originChildProps$onC === void 0 ? void 0 : _originChildProps$onC.call.apply(_originChildProps$onC, [originChildProps, event].concat(args));\n      };\n    }\n\n    // Click to hide is special action since click popup element should not hide\n    React.useEffect(function () {\n      if (clickToHide && popupEle && (!mask || maskClosable)) {\n        var clickInside = false;\n\n        // User may mouseDown inside and drag out of popup and mouse up\n        // Record here to prevent close\n        var onWindowMouseDown = function onWindowMouseDown(_ref) {\n          var target = _ref.target;\n          clickInside = inPopupOrChild(target);\n        };\n        var onWindowClick = function onWindowClick(_ref2) {\n          var target = _ref2.target;\n          if (openRef.current && !clickInside && !inPopupOrChild(target)) {\n            triggerOpen(false);\n          }\n        };\n        var win = getWin(popupEle);\n        var targetRoot = targetEle === null || targetEle === void 0 ? void 0 : targetEle.getRootNode();\n        win.addEventListener('mousedown', onWindowMouseDown);\n        win.addEventListener('click', onWindowClick);\n\n        // shadow root\n        var inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;\n        if (inShadow) {\n          targetRoot.addEventListener('mousedown', onWindowMouseDown);\n          targetRoot.addEventListener('click', onWindowClick);\n        }\n\n        // Warning if target and popup not in same root\n        if (process.env.NODE_ENV !== 'production') {\n          var popupRoot = popupEle.getRootNode();\n          warning(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n        }\n        return function () {\n          win.removeEventListener('mousedown', onWindowMouseDown);\n          win.removeEventListener('click', onWindowClick);\n          if (inShadow) {\n            targetRoot.removeEventListener('mousedown', onWindowMouseDown);\n            targetRoot.removeEventListener('click', onWindowClick);\n          }\n        };\n      }\n    }, [clickToHide, targetEle, popupEle, mask, maskClosable]);\n\n    // ======================= Action: Hover ========================\n    var hoverToShow = showActions.has('hover');\n    var hoverToHide = hideActions.has('hover');\n    var onPopupMouseEnter;\n    var onPopupMouseLeave;\n    if (hoverToShow) {\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, function (event) {\n        setMousePosByEvent(event);\n      });\n      onPopupMouseEnter = function onPopupMouseEnter() {\n        triggerOpen(true, mouseEnterDelay);\n      };\n\n      // Align Point\n      if (alignPoint) {\n        cloneProps.onMouseMove = function (event) {\n          var _originChildProps$onM;\n          // setMousePosByEvent(event);\n          (_originChildProps$onM = originChildProps.onMouseMove) === null || _originChildProps$onM === void 0 ? void 0 : _originChildProps$onM.call(originChildProps, event);\n        };\n      }\n    }\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay);\n      onPopupMouseLeave = function onPopupMouseLeave() {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    }\n\n    // ======================= Action: Focus ========================\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    }\n\n    // ==================== Action: ContextMenu =====================\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = function (event) {\n        var _originChildProps$onC2;\n        setMousePosByEvent(event);\n        triggerOpen(true);\n        event.preventDefault();\n\n        // Pass to origin\n        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n        (_originChildProps$onC2 = originChildProps.onContextMenu) === null || _originChildProps$onC2 === void 0 ? void 0 : _originChildProps$onC2.call.apply(_originChildProps$onC2, [originChildProps, event].concat(args));\n      };\n    }\n\n    // ========================= ClassName ==========================\n    if (className) {\n      cloneProps.className = classNames(originChildProps.className, className);\n    }\n\n    // =========================== Render ===========================\n    var mergedChildrenProps = _objectSpread(_objectSpread({}, originChildProps), cloneProps);\n\n    // Pass props into cloneProps for nest usage\n    var passedProps = {};\n    var passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(function (eventName) {\n      if (restProps[eventName]) {\n        passedProps[eventName] = function () {\n          var _mergedChildrenProps$;\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n          (_mergedChildrenProps$ = mergedChildrenProps[eventName]) === null || _mergedChildrenProps$ === void 0 ? void 0 : _mergedChildrenProps$.call.apply(_mergedChildrenProps$, [mergedChildrenProps].concat(args));\n          restProps[eventName].apply(restProps, args);\n        };\n      }\n    });\n\n    // Child Node\n    var triggerNode = /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, mergedChildrenProps), passedProps));\n    var innerArrow = arrow ? _objectSpread(_objectSpread({}, arrow !== true ? arrow : {}), {}, {\n      x: arrowX,\n      y: arrowY\n    }) : null;\n\n    // Render\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ResizeObserver, {\n      disabled: !mergedOpen,\n      ref: setTargetRef,\n      onResize: onTargetResize\n    }, /*#__PURE__*/React.createElement(TriggerWrapper, {\n      getTriggerDOMNode: getTriggerDOMNode\n    }, triggerNode)), /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: classNames(popupClassName, alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave,\n      zIndex: zIndex\n      // Open\n      ,\n\n      open: mergedOpen,\n      keepDom: inMotion\n      // Click\n      ,\n\n      onClick: onPopupClick\n      // Mask\n      ,\n\n      mask: mask\n      // Motion\n      ,\n\n      motion: mergePopupMotion,\n      maskMotion: mergeMaskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare\n      // Portal\n      ,\n\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer\n      // Arrow\n      ,\n\n      align: alignInfo,\n      arrow: innerArrow\n      // Align\n      ,\n\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      onAlign: triggerAlign\n      // Stretch\n      ,\n\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n    })));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n  return Trigger;\n}\nexport default generateTrigger(Portal);","map":{"version":3,"names":["_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","Portal","classNames","ResizeObserver","isDOM","useEvent","useId","useLayoutEffect","isMobile","warning","React","TriggerContext","useAction","useAlign","useWatch","Popup","TriggerWrapper","getAlignPopupClassName","getMotion","getWin","generateTrigger","PortalComponent","arguments","length","undefined","Trigger","forwardRef","props","ref","_props$prefixCls","prefixCls","children","_props$action","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","_props$mouseLeaveDela","mouseLeaveDelay","focusDelay","blurDelay","mask","_props$maskClosable","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","_props$builtinPlaceme","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode","restProps","mergedAutoDestroy","_React$useState","useState","_React$useState2","mobile","setMobile","subPopupElements","useRef","parentContext","useContext","context","useMemo","registerSubPopup","id","subPopupEle","current","_React$useState3","_React$useState4","popupEle","setPopupEle","setPopupRef","node","_React$useState5","_React$useState6","targetEle","setTargetEle","setTargetRef","child","Children","only","originChildProps","cloneProps","inPopupOrChild","ele","_childDOM$getRootNode","_popupEle$getRootNode","childDOM","contains","getRootNode","host","Object","values","some","mergePopupMotion","mergeMaskMotion","_React$useState7","_React$useState8","internalOpen","setInternalOpen","mergedOpen","setMergedOpen","nextOpen","openRef","internalTriggerOpen","delayRef","clearDelay","clearTimeout","triggerOpen","delay","setTimeout","useEffect","_React$useState9","_React$useState10","inMotion","setInMotion","mountRef","_React$useState11","_React$useState12","motionPrepareResolve","setMotionPrepareResolve","_React$useState13","_React$useState14","mousePos","setMousePos","setMousePosByEvent","event","clientX","clientY","_useAlign","_useAlign2","ready","offsetX","offsetY","arrowX","arrowY","scaleX","scaleY","alignInfo","onAlign","triggerAlign","JSON","stringify","alignedClassName","baseClassName","useImperativeHandle","forceAlign","onVisibleChanged","visible","onPrepare","Promise","resolve","_React$useState15","_React$useState16","targetWidth","setTargetWidth","_React$useState17","_React$useState18","targetHeight","setTargetHeight","onTargetResize","_","rect","getBoundingClientRect","width","height","_useAction","_useAction2","showActions","hideActions","wrapperAction","eventName","preEvent","_originChildProps$eve","_len","args","Array","_key","call","apply","concat","clickToShow","has","clickToHide","onClick","_originChildProps$onC","_len2","_key2","clickInside","onWindowMouseDown","_ref","target","onWindowClick","_ref2","win","targetRoot","addEventListener","inShadow","ownerDocument","process","env","NODE_ENV","popupRoot","removeEventListener","hoverToShow","hoverToHide","onPopupMouseEnter","onPopupMouseLeave","onMouseMove","_originChildProps$onM","onContextMenu","_originChildProps$onC2","preventDefault","_len3","_key3","mergedChildrenProps","passedProps","passedEventList","forEach","_mergedChildrenProps$","_len4","_key4","triggerNode","cloneElement","innerArrow","x","y","createElement","Fragment","disabled","onResize","Provider","value","portal","style","onMouseEnter","onMouseLeave","open","keepDom","motion","align","displayName"],"sources":["C:/Users/parkj/Desktop/nginx-file-browser-master/frontend/node_modules/@rc-component/trigger/es/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"children\", \"action\", \"showAction\", \"hideAction\", \"popupVisible\", \"defaultPopupVisible\", \"onPopupVisibleChange\", \"afterPopupVisibleChange\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"focusDelay\", \"blurDelay\", \"mask\", \"maskClosable\", \"getPopupContainer\", \"forceRender\", \"autoDestroy\", \"destroyPopupOnHide\", \"popup\", \"popupClassName\", \"popupStyle\", \"popupPlacement\", \"builtinPlacements\", \"popupAlign\", \"zIndex\", \"stretch\", \"getPopupClassNameFromAlign\", \"alignPoint\", \"onPopupClick\", \"onPopupAlign\", \"arrow\", \"popupMotion\", \"maskMotion\", \"popupTransitionName\", \"popupAnimation\", \"maskTransitionName\", \"maskAnimation\", \"className\", \"getTriggerDOMNode\"];\nimport Portal from '@rc-component/portal';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport { isDOM } from \"rc-util/es/Dom/findDOMNode\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport useId from \"rc-util/es/hooks/useId\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport TriggerContext from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useWatch from \"./hooks/useWatch\";\nimport Popup from \"./Popup\";\nimport TriggerWrapper from \"./TriggerWrapper\";\nimport { getAlignPopupClassName, getMotion, getWin } from \"./util\";\nexport function generateTrigger() {\n  var PortalComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Portal;\n  var Trigger = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-trigger-popup' : _props$prefixCls,\n      children = props.children,\n      _props$action = props.action,\n      action = _props$action === void 0 ? 'hover' : _props$action,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      popupVisible = props.popupVisible,\n      defaultPopupVisible = props.defaultPopupVisible,\n      onPopupVisibleChange = props.onPopupVisibleChange,\n      afterPopupVisibleChange = props.afterPopupVisibleChange,\n      mouseEnterDelay = props.mouseEnterDelay,\n      _props$mouseLeaveDela = props.mouseLeaveDelay,\n      mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n      focusDelay = props.focusDelay,\n      blurDelay = props.blurDelay,\n      mask = props.mask,\n      _props$maskClosable = props.maskClosable,\n      maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n      getPopupContainer = props.getPopupContainer,\n      forceRender = props.forceRender,\n      autoDestroy = props.autoDestroy,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      popup = props.popup,\n      popupClassName = props.popupClassName,\n      popupStyle = props.popupStyle,\n      popupPlacement = props.popupPlacement,\n      _props$builtinPlaceme = props.builtinPlacements,\n      builtinPlacements = _props$builtinPlaceme === void 0 ? {} : _props$builtinPlaceme,\n      popupAlign = props.popupAlign,\n      zIndex = props.zIndex,\n      stretch = props.stretch,\n      getPopupClassNameFromAlign = props.getPopupClassNameFromAlign,\n      alignPoint = props.alignPoint,\n      onPopupClick = props.onPopupClick,\n      onPopupAlign = props.onPopupAlign,\n      arrow = props.arrow,\n      popupMotion = props.popupMotion,\n      maskMotion = props.maskMotion,\n      popupTransitionName = props.popupTransitionName,\n      popupAnimation = props.popupAnimation,\n      maskTransitionName = props.maskTransitionName,\n      maskAnimation = props.maskAnimation,\n      className = props.className,\n      getTriggerDOMNode = props.getTriggerDOMNode,\n      restProps = _objectWithoutProperties(props, _excluded);\n    var mergedAutoDestroy = autoDestroy || destroyPopupOnHide || false;\n\n    // =========================== Mobile ===========================\n    var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mobile = _React$useState2[0],\n      setMobile = _React$useState2[1];\n    useLayoutEffect(function () {\n      setMobile(isMobile());\n    }, []);\n\n    // ========================== Context ===========================\n    var subPopupElements = React.useRef({});\n    var parentContext = React.useContext(TriggerContext);\n    var context = React.useMemo(function () {\n      return {\n        registerSubPopup: function registerSubPopup(id, subPopupEle) {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]);\n\n    // =========================== Popup ============================\n    var id = useId();\n    var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      popupEle = _React$useState4[0],\n      setPopupEle = _React$useState4[1];\n    var setPopupRef = useEvent(function (node) {\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n      parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, node);\n    });\n\n    // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n    var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      targetEle = _React$useState6[0],\n      setTargetEle = _React$useState6[1];\n    var setTargetRef = useEvent(function (node) {\n      if (isDOM(node) && targetEle !== node) {\n        setTargetEle(node);\n      }\n    });\n\n    // ========================== Children ==========================\n    var child = React.Children.only(children);\n    var originChildProps = (child === null || child === void 0 ? void 0 : child.props) || {};\n    var cloneProps = {};\n    var inPopupOrChild = useEvent(function (ele) {\n      var _childDOM$getRootNode, _popupEle$getRootNode;\n      var childDOM = targetEle;\n      return (childDOM === null || childDOM === void 0 ? void 0 : childDOM.contains(ele)) || (childDOM === null || childDOM === void 0 ? void 0 : (_childDOM$getRootNode = childDOM.getRootNode()) === null || _childDOM$getRootNode === void 0 ? void 0 : _childDOM$getRootNode.host) === ele || ele === childDOM || (popupEle === null || popupEle === void 0 ? void 0 : popupEle.contains(ele)) || (popupEle === null || popupEle === void 0 ? void 0 : (_popupEle$getRootNode = popupEle.getRootNode()) === null || _popupEle$getRootNode === void 0 ? void 0 : _popupEle$getRootNode.host) === ele || ele === popupEle || Object.values(subPopupElements.current).some(function (subPopupEle) {\n        return (subPopupEle === null || subPopupEle === void 0 ? void 0 : subPopupEle.contains(ele)) || ele === subPopupEle;\n      });\n    });\n\n    // =========================== Motion ===========================\n    var mergePopupMotion = getMotion(prefixCls, popupMotion, popupAnimation, popupTransitionName);\n    var mergeMaskMotion = getMotion(prefixCls, maskMotion, maskAnimation, maskTransitionName);\n\n    // ============================ Open ============================\n    var _React$useState7 = React.useState(defaultPopupVisible || false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      internalOpen = _React$useState8[0],\n      setInternalOpen = _React$useState8[1];\n\n    // Render still use props as first priority\n    var mergedOpen = popupVisible !== null && popupVisible !== void 0 ? popupVisible : internalOpen;\n\n    // We use effect sync here in case `popupVisible` back to `undefined`\n    var setMergedOpen = useEvent(function (nextOpen) {\n      if (popupVisible === undefined) {\n        setInternalOpen(nextOpen);\n      }\n    });\n    useLayoutEffect(function () {\n      setInternalOpen(popupVisible || false);\n    }, [popupVisible]);\n    var openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    var internalTriggerOpen = useEvent(function (nextOpen) {\n      if (mergedOpen !== nextOpen) {\n        setMergedOpen(nextOpen);\n        onPopupVisibleChange === null || onPopupVisibleChange === void 0 ? void 0 : onPopupVisibleChange(nextOpen);\n      }\n    });\n\n    // Trigger for delay\n    var delayRef = React.useRef();\n    var clearDelay = function clearDelay() {\n      clearTimeout(delayRef.current);\n    };\n    var triggerOpen = function triggerOpen(nextOpen) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      clearDelay();\n      if (delay === 0) {\n        internalTriggerOpen(nextOpen);\n      } else {\n        delayRef.current = setTimeout(function () {\n          internalTriggerOpen(nextOpen);\n        }, delay * 1000);\n      }\n    };\n    React.useEffect(function () {\n      return clearDelay;\n    }, []);\n\n    // ========================== Motion ============================\n    var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      inMotion = _React$useState10[0],\n      setInMotion = _React$useState10[1];\n    var mountRef = React.useRef(true);\n    useLayoutEffect(function () {\n      if (!mountRef.current || mergedOpen) {\n        setInMotion(true);\n      }\n      mountRef.current = true;\n    }, [mergedOpen]);\n    var _React$useState11 = React.useState(null),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      motionPrepareResolve = _React$useState12[0],\n      setMotionPrepareResolve = _React$useState12[1];\n\n    // =========================== Align ============================\n    var _React$useState13 = React.useState([0, 0]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      mousePos = _React$useState14[0],\n      setMousePos = _React$useState14[1];\n    var setMousePosByEvent = function setMousePosByEvent(event) {\n      setMousePos([event.clientX, event.clientY]);\n    };\n    var _useAlign = useAlign(mergedOpen, popupEle, alignPoint ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign),\n      _useAlign2 = _slicedToArray(_useAlign, 9),\n      ready = _useAlign2[0],\n      offsetX = _useAlign2[1],\n      offsetY = _useAlign2[2],\n      arrowX = _useAlign2[3],\n      arrowY = _useAlign2[4],\n      scaleX = _useAlign2[5],\n      scaleY = _useAlign2[6],\n      alignInfo = _useAlign2[7],\n      onAlign = _useAlign2[8];\n    var triggerAlign = useEvent(function () {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign);\n    useLayoutEffect(function () {\n      triggerAlign();\n    }, [mousePos]);\n\n    // When no builtinPlacements and popupAlign changed\n    useLayoutEffect(function () {\n      if (mergedOpen && !(builtinPlacements !== null && builtinPlacements !== void 0 && builtinPlacements[popupPlacement])) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    var alignedClassName = React.useMemo(function () {\n      var baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return classNames(baseClassName, getPopupClassNameFromAlign === null || getPopupClassNameFromAlign === void 0 ? void 0 : getPopupClassNameFromAlign(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n    React.useImperativeHandle(ref, function () {\n      return {\n        forceAlign: triggerAlign\n      };\n    });\n\n    // ========================== Motion ============================\n    var onVisibleChanged = function onVisibleChanged(visible) {\n      setInMotion(false);\n      onAlign();\n      afterPopupVisibleChange === null || afterPopupVisibleChange === void 0 ? void 0 : afterPopupVisibleChange(visible);\n    };\n\n    // We will trigger align when motion is in prepare\n    var onPrepare = function onPrepare() {\n      return new Promise(function (resolve) {\n        setMotionPrepareResolve(function () {\n          return resolve;\n        });\n      });\n    };\n    useLayoutEffect(function () {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]);\n\n    // ========================== Stretch ===========================\n    var _React$useState15 = React.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      targetWidth = _React$useState16[0],\n      setTargetWidth = _React$useState16[1];\n    var _React$useState17 = React.useState(0),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      targetHeight = _React$useState18[0],\n      setTargetHeight = _React$useState18[1];\n    var onTargetResize = function onTargetResize(_, ele) {\n      triggerAlign();\n      if (stretch) {\n        var rect = ele.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    };\n\n    // =========================== Action ===========================\n    var _useAction = useAction(mobile, action, showAction, hideAction),\n      _useAction2 = _slicedToArray(_useAction, 2),\n      showActions = _useAction2[0],\n      hideActions = _useAction2[1];\n\n    // Util wrapper for trigger action\n    var wrapperAction = function wrapperAction(eventName, nextOpen, delay, preEvent) {\n      cloneProps[eventName] = function (event) {\n        var _originChildProps$eve;\n        preEvent === null || preEvent === void 0 ? void 0 : preEvent(event);\n        triggerOpen(nextOpen, delay);\n\n        // Pass to origin\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        (_originChildProps$eve = originChildProps[eventName]) === null || _originChildProps$eve === void 0 ? void 0 : _originChildProps$eve.call.apply(_originChildProps$eve, [originChildProps, event].concat(args));\n      };\n    };\n\n    // ======================= Action: Click ========================\n    var clickToShow = showActions.has('click');\n    var clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = function (event) {\n        var _originChildProps$onC;\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        (_originChildProps$onC = originChildProps.onClick) === null || _originChildProps$onC === void 0 ? void 0 : _originChildProps$onC.call.apply(_originChildProps$onC, [originChildProps, event].concat(args));\n      };\n    }\n\n    // Click to hide is special action since click popup element should not hide\n    React.useEffect(function () {\n      if (clickToHide && popupEle && (!mask || maskClosable)) {\n        var clickInside = false;\n\n        // User may mouseDown inside and drag out of popup and mouse up\n        // Record here to prevent close\n        var onWindowMouseDown = function onWindowMouseDown(_ref) {\n          var target = _ref.target;\n          clickInside = inPopupOrChild(target);\n        };\n        var onWindowClick = function onWindowClick(_ref2) {\n          var target = _ref2.target;\n          if (openRef.current && !clickInside && !inPopupOrChild(target)) {\n            triggerOpen(false);\n          }\n        };\n        var win = getWin(popupEle);\n        var targetRoot = targetEle === null || targetEle === void 0 ? void 0 : targetEle.getRootNode();\n        win.addEventListener('mousedown', onWindowMouseDown);\n        win.addEventListener('click', onWindowClick);\n\n        // shadow root\n        var inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;\n        if (inShadow) {\n          targetRoot.addEventListener('mousedown', onWindowMouseDown);\n          targetRoot.addEventListener('click', onWindowClick);\n        }\n\n        // Warning if target and popup not in same root\n        if (process.env.NODE_ENV !== 'production') {\n          var popupRoot = popupEle.getRootNode();\n          warning(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n        }\n        return function () {\n          win.removeEventListener('mousedown', onWindowMouseDown);\n          win.removeEventListener('click', onWindowClick);\n          if (inShadow) {\n            targetRoot.removeEventListener('mousedown', onWindowMouseDown);\n            targetRoot.removeEventListener('click', onWindowClick);\n          }\n        };\n      }\n    }, [clickToHide, targetEle, popupEle, mask, maskClosable]);\n\n    // ======================= Action: Hover ========================\n    var hoverToShow = showActions.has('hover');\n    var hoverToHide = hideActions.has('hover');\n    var onPopupMouseEnter;\n    var onPopupMouseLeave;\n    if (hoverToShow) {\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, function (event) {\n        setMousePosByEvent(event);\n      });\n      onPopupMouseEnter = function onPopupMouseEnter() {\n        triggerOpen(true, mouseEnterDelay);\n      };\n\n      // Align Point\n      if (alignPoint) {\n        cloneProps.onMouseMove = function (event) {\n          var _originChildProps$onM;\n          // setMousePosByEvent(event);\n          (_originChildProps$onM = originChildProps.onMouseMove) === null || _originChildProps$onM === void 0 ? void 0 : _originChildProps$onM.call(originChildProps, event);\n        };\n      }\n    }\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay);\n      onPopupMouseLeave = function onPopupMouseLeave() {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    }\n\n    // ======================= Action: Focus ========================\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    }\n\n    // ==================== Action: ContextMenu =====================\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = function (event) {\n        var _originChildProps$onC2;\n        setMousePosByEvent(event);\n        triggerOpen(true);\n        event.preventDefault();\n\n        // Pass to origin\n        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n        (_originChildProps$onC2 = originChildProps.onContextMenu) === null || _originChildProps$onC2 === void 0 ? void 0 : _originChildProps$onC2.call.apply(_originChildProps$onC2, [originChildProps, event].concat(args));\n      };\n    }\n\n    // ========================= ClassName ==========================\n    if (className) {\n      cloneProps.className = classNames(originChildProps.className, className);\n    }\n\n    // =========================== Render ===========================\n    var mergedChildrenProps = _objectSpread(_objectSpread({}, originChildProps), cloneProps);\n\n    // Pass props into cloneProps for nest usage\n    var passedProps = {};\n    var passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(function (eventName) {\n      if (restProps[eventName]) {\n        passedProps[eventName] = function () {\n          var _mergedChildrenProps$;\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n          (_mergedChildrenProps$ = mergedChildrenProps[eventName]) === null || _mergedChildrenProps$ === void 0 ? void 0 : _mergedChildrenProps$.call.apply(_mergedChildrenProps$, [mergedChildrenProps].concat(args));\n          restProps[eventName].apply(restProps, args);\n        };\n      }\n    });\n\n    // Child Node\n    var triggerNode = /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, mergedChildrenProps), passedProps));\n    var innerArrow = arrow ? _objectSpread(_objectSpread({}, arrow !== true ? arrow : {}), {}, {\n      x: arrowX,\n      y: arrowY\n    }) : null;\n\n    // Render\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ResizeObserver, {\n      disabled: !mergedOpen,\n      ref: setTargetRef,\n      onResize: onTargetResize\n    }, /*#__PURE__*/React.createElement(TriggerWrapper, {\n      getTriggerDOMNode: getTriggerDOMNode\n    }, triggerNode)), /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: classNames(popupClassName, alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave,\n      zIndex: zIndex\n      // Open\n      ,\n      open: mergedOpen,\n      keepDom: inMotion\n      // Click\n      ,\n      onClick: onPopupClick\n      // Mask\n      ,\n      mask: mask\n      // Motion\n      ,\n      motion: mergePopupMotion,\n      maskMotion: mergeMaskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare\n      // Portal\n      ,\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer\n      // Arrow\n      ,\n      align: alignInfo,\n      arrow: innerArrow\n      // Align\n      ,\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      onAlign: triggerAlign\n      // Stretch\n      ,\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n    })));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n  return Trigger;\n}\nexport default generateTrigger(Portal);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}