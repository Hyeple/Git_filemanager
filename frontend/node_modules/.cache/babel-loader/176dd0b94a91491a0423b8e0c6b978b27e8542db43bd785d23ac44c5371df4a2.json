{"ast":null,"code":"import _classCallCheck from \"C:/Users/parkj/Desktop/nginx-file-browser-master/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/parkj/Desktop/nginx-file-browser-master/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { isValidTimeout, isServer } from './utils.mjs';\nvar Removable = /*#__PURE__*/function () {\n  function Removable() {\n    _classCallCheck(this, Removable);\n  }\n  _createClass(Removable, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.clearGcTimeout();\n    }\n  }, {\n    key: \"scheduleGc\",\n    value: function scheduleGc() {\n      var _this = this;\n      this.clearGcTimeout();\n      if (isValidTimeout(this.cacheTime)) {\n        this.gcTimeout = setTimeout(function () {\n          _this.optionalRemove();\n        }, this.cacheTime);\n      }\n    }\n  }, {\n    key: \"updateCacheTime\",\n    value: function updateCacheTime(newCacheTime) {\n      // Default to 5 minutes (Infinity for server-side) if no cache time is set\n      this.cacheTime = Math.max(this.cacheTime || 0, newCacheTime != null ? newCacheTime : isServer ? Infinity : 5 * 60 * 1000);\n    }\n  }, {\n    key: \"clearGcTimeout\",\n    value: function clearGcTimeout() {\n      if (this.gcTimeout) {\n        clearTimeout(this.gcTimeout);\n        this.gcTimeout = undefined;\n      }\n    }\n  }]);\n  return Removable;\n}();\nexport { Removable };","map":{"version":3,"names":["Removable","_classCallCheck","_createClass","key","value","destroy","clearGcTimeout","scheduleGc","_this","isValidTimeout","cacheTime","gcTimeout","setTimeout","optionalRemove","updateCacheTime","newCacheTime","Math","max","isServer","Infinity","clearTimeout","undefined"],"sources":["C:\\Users\\parkj\\Desktop\\nginx-file-browser-master\\frontend\\node_modules\\@tanstack\\query-core\\src\\removable.ts"],"sourcesContent":["import { isServer, isValidTimeout } from './utils'\n\nexport abstract class Removable {\n  cacheTime!: number\n  private gcTimeout?: ReturnType<typeof setTimeout>\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(() => {\n        this.optionalRemove()\n      }, this.cacheTime)\n    }\n  }\n\n  protected updateCacheTime(newCacheTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no cache time is set\n    this.cacheTime = Math.max(\n      this.cacheTime || 0,\n      newCacheTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout)\n      this.gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n"],"mappings":";;;IAEsBA,SAAf;EAAA,SAAAA,UAAA;IAAAC,eAAA,OAAAD,SAAA;EAAA;EAAAE,YAAA,CAAAF,SAAA;IAAAG,GAAA;IAAAC,KAAA,EAIL,SAAAC,QAAA,EAAgB;MACd,KAAKC,cAAL;IACD;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAES,SAAAG,WAAA,EAAmB;MAAA,IAAAC,KAAA;MAC3B,KAAKF,cAAL;MAEA,IAAIG,cAAc,CAAC,IAAK,CAAAC,SAAN,CAAlB,EAAoC;QAClC,KAAKC,SAAL,GAAiBC,UAAU,CAAC,YAAM;UAChCJ,KAAA,CAAKK,cAAL;SADyB,EAExB,IAAK,CAAAH,SAFmB,CAA3B;MAGD;IACF;EAAA;IAAAP,GAAA;IAAAC,KAAA,EAES,SAAAU,gBAAgBC,YAAD,EAAyC;MAChE;MACA,IAAK,CAAAL,SAAL,GAAiBM,IAAI,CAACC,GAAL,CACf,KAAKP,SAAL,IAAkB,CADH,EAEfK,YAFe,IAEf,OAAAA,YAFe,GAEEG,QAAQ,GAAGC,QAAH,GAAc,CAAI,KAAJ,GAAS,IAFjC,CAAjB;IAID;EAAA;IAAAhB,GAAA;IAAAC,KAAA,EAES,SAAAE,eAAA,EAAiB;MACzB,IAAI,KAAKK,SAAT,EAAoB;QAClBS,YAAY,CAAC,IAAK,CAAAT,SAAN,CAAZ;QACA,IAAK,CAAAA,SAAL,GAAiBU,SAAjB;MACD;IACF;EAAA;EAAA,OAAArB,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}